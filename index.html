<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Coordinate Converter (DMS ⇄ DD)</title>

  <link rel="stylesheet" href="./assets/css/styles.css">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4a90e2">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container">

  <!-- TABS: add History button -->
  <nav style="margin-bottom: 1em;">
    <button id="tab-convert" class="tab-btn" type="button">Conversion</button>
    <button id="tab-history" class="tab-btn" type="button">History</button>
  </nav>

  <h3>Coordinate Converter (Latitude &amp; Longitude)</h3>

  <!-- Conversion Tab (ALL conversion UI stays inside this one container) -->
  <div id="convert-tab">
    <h4>DMS to DD</h4>

    <!-- Single-string DMS inputs -->
    <div class="row">
      <label>Latitude DMS:
        <input id="dms_lat_string" type="text" placeholder='e.g. 12°34&#39;56.7&quot; N or -12 34 56.7'>
      </label>
    </div>
    <div class="row">
      <label>Longitude DMS:
        <input id="dms_lon_string" type="text" placeholder='e.g. 77°35&#39;12&quot; E or -77 35 12'>
      </label>
    </div>

    <hr style="margin-top:15px; margin-bottom:15px;">

    <!-- Separate D/M/S inputs (optional alternative) -->
    <div class="row">
      <b>Latitude (Y):</b>
      <label>° <input id="dms_lat_deg" type="number" step="1" placeholder="deg"></label>
      <label>' <input id="dms_lat_min" type="number" step="1" placeholder="min"></label>
      <label>" <input id="dms_lat_sec" type="number" step="any" placeholder="sec"></label>
      <select id="dms_lat_dir">
        <option value="N">N</option>
        <option value="S">S</option>
      </select>
    </div>
    <div class="row">
      <b>Longitude (X):</b>
      <label>° <input id="dms_lon_deg" type="number" step="1" placeholder="deg"></label>
      <label>' <input id="dms_lon_min" type="number" step="1" placeholder="min"></label>
      <label>" <input id="dms_lon_sec" type="number" step="any" placeholder="sec"></label>
      <select id="dms_lon_dir">
        <option value="E">E</option>
        <option value="W">W</option>
      </select>
    </div>

    <button type="button" onclick="convertDmsToDd()">Convert to DD</button>
    <textarea class="result" id="dd_result" readonly></textarea>

    <hr>

    <!-- DD to DMS (kept INSIDE convert-tab now) -->
    <h4>DD to DMS</h4>
    <div class="row">
      <b>Latitude (Y):</b>
      <label>DD <input id="dd_lat" type="number" step="any" placeholder="e.g. 12.58242"></label>
    </div>
    <div class="row">
      <b>Longitude (X):</b>
      <label>DD <input id="dd_lon" type="number" step="any" placeholder="e.g. 77.58667"></label>
    </div>
    <button type="button" onclick="convertDdToDms()">Convert to DMS</button>
    <textarea class="result" id="dms_result" readonly></textarea>
  </div>
  <!-- /#convert-tab -->

  <!-- History Tab (read-only; starts hidden, JS toggles it) -->
  <div id="history-tab" style="display:none;">
    <p id="history-empty" style="margin:8px 0;">No history yet.</p>
    <table id="history-table" class="table" style="display:none; width:100%;">
      <thead>
        <tr>
          <th>#</th>
          <th>Input</th>
          <th>Result</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

</div> <!-- /.container -->

<!-- Load libs first (XLSX is optional) -->
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.20.2/dist/xlsx.full.min.js" defer></script>
<!-- Your app logic (expects the IDs above) -->
<script src="./assets/js/app.js" defer></script>

<script>
  // Service worker (optional; use relative path on GitHub Pages)
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('./service-worker.js');
    });
  }
</script>
</body>
</html>
